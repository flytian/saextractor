<?xml version="1.0" ?>
<!--
     $Id: contact_en6.xml 1689 2008-10-14 12:17:27Z labsky $
     Extraction ontology for initial medieq criteria
-->
<model name="medieq_contact_en">

<import model="../datatypes.xml" />

<!-- functions used by some script axioms of the Contact class -->
<script src="contact.js" />
<!-- post-processing functions -->
<script src="contact_post.js" />

<!-- all references to resources below will be resolved relative to this base url -->
<base url="../../models/shared"/>

<class id="Contact" prune="0.05">
  <!-- The following loads a classifier from a trained model to classify 
    candidate phrases into 3 classes: background, name and address.
    The phrases identified by the classifier as one of the attribute values
    can be used in token patterns across the whole extraction ontology.
    When run in training mode (set in task file), a new classifier of the given name 
    is trained using the specified feature list and stored in the specified model file. -->

<!--
  <classifier id="cls1" method="weka" classtype="attribute"
   name="weka.classifiers.functions.SMO" model="../ex/data/med/train/en/smo_tnsod_bgr.bin" 
   elements="title name street organization department">
    <feature type="ngram" ignore="case" length="1-2" minocc="3" maxcnt="500" mi="0.25, 3"  
             position="before, after, equals, prefix, suffix, content"
             source="document" book="../ex/data/med/train/en/tnsod_bgr.fgram" />
    <feature type="model" />
  </classifier>
-->
 
<!-- ********************************************************************** -->
<!-- ******************************* PERSON ******************************* -->
<!-- ********************************************************************** -->

  <pattern id="name_or_org_first" type="pattern" cover="0.1" p="0.6" log="0">
    ^ ( ($title? .? $name) | ($name ,? $title?) | $organization )
  </pattern> 

  <pattern id="title_name_together" type="pattern" cover="-1" p="0.3" log="0">
    ($title .? $name) | ($name ,? $title)
  </pattern> 

  <pattern id="address_pattern" type="pattern" cover="0.02" p="0.2" log="0">
    $organization? $street $city $zip $country?
  </pattern>

  <pattern id="tester" type="pattern" cover="0.02" p="0.2" log="0">
    $name <tok/>{0,5} $phone <tok/>{0,5} $email
  </pattern>

  <pattern id="similar_name_email" type="script" cover="0.8" p="-1" cond="all" log="0">
    nameMatchesEmail($name, $email) > 0
  </pattern>
  
  <pattern cover="0.05" p="-1.0" type="format"> has_one_parent </pattern>
  <pattern cover="0.05" p="-1.0" type="format"> fits_in_parent </pattern>
  <pattern cover="0.03" p="-1.0" type="format"> no_crossed_inline_tags </pattern>
  <pattern cover="0.03" p="-1.0" type="format"> no_crossed_block_tags </pattern>

  <attribute id="title" type="name" card="0-4" eng="0.60">
    <!-- classifier specified within an attribute definition has automatically set:
     classtype="attribute" elements="title" -->
    <!-- <classifier id="clsTit1" method="weka" 
     name="weka.classifiers.rules.JRip" features="jrip_title.feat" 
     model="train/jrip_title.bin" confidencethreshold="0.1" /> -->
    
    <!-- belongs to global section -->
    <pattern id="ml" log="0"> <tok/>{1,7} (<lab name="^BR|OBJECT|HEADING|CONTAINER|BLOCKQUOTE|BODY|DIV|DD|DT|LI|P|PRE|TH"/>|<lab name="BR|OBJECT|HEADING|CONTAINER|BLOCKQUOTE|BODY|DIV|DD|DT|LI|P|PRE|TH$"/>) <tok/>{1,7} </pattern>
    <pattern id="nobr" log="0">  ((<lab neg="1" name="^BR|OBJECT|HEADING|CONTAINER|BLOCKQUOTE|BODY|DIV|DD|DT|LI|P|PRE|TH"/>|<lab neg="1" name="BR|OBJECT|HEADING|CONTAINER|BLOCKQUOTE|BODY|DIV|DD|DT|LI|P|PRE|TH$"/>)) </pattern>
    <!-- <pattern id="stop" src="common/en/freq2000.txt" type="pattern" ignore="case" case="CA|UC" encoding="utf-8" /> -->
    <pattern id="stop" src="common/en/bnc7k.txt" type="pattern" ignore="case" case="CA|UC" encoding="utf-8" />
    <pattern id="us_states_abbr" type="pattern"> DC|D.C.|D .? C .?|AK|AL|AR|AZ|CA|CO|CT|FL|GA|HI|IA|ID|IL|KS|KY|LA|MA|MD|ME|MI|MN|MO|MS|MT|NC|ND|NE|NH|NJ|NM|NV|NY|PA|PR|RI|SC|SD|TN|TX|UT|VA|VT|WA|WI|WV|WY </pattern>

    <!-- single title patterns-->
    <pattern id="titles_pre" ignore="case">
     Miss | Lady | Sir 
     ( Mr | Mrs | Ms | Dr | Ing | Mgr | Bc | Dra | Sra | Fga | Lic | Cro | Cra | DrC ) .?
    </pattern>
    <pattern id="some_prof" ignore="case"> 
      (associate|assoc .?|assistant|assist .?)? <tok type="alpha"/>? (professor|prof .?) 
    </pattern>
    <pattern id="some_prof_of" ignore="case">
      <pattern ref="some_prof"/> (of <tok type="alpha"/> (and <tok type="alpha"/>)? )?
    </pattern>
    <pattern id="titles_suf" log="0">
     ( , <pattern ref="some_prof_of"/> )
     (( M . S | MA | MPh | MPH | MSPH | PhD | Ph . D | DrSc | Dr .? Sc | MBA | BA | M .? B .? A | MB | BM | MS | BS | MBBS | M . B . B . S | CAE | C . A . E
       MD | M . D | FRCP | F . R . C . P | MRCP | M . R . C . P | MRCPsych | FRCPsych | FACP | FACOG | F . R . C . Psych | F . R . C . P
       MRCPCH | MBChB | DRCOG | BChir | Bchir | B .? Chir | ChB | FRCS | FRCGP | FACS | F . A . C . S | F . A . C . P 
       LRCP | LNCP | MRCS | MRCOG | MRCGP | MFDS | MBBChir ) .? )
     ( M.Sc. | M.S. | M.Ph. | Ph.D. | Dr.Sc. | M.B.A. | M.B. | B.S. | M.B.B.S.
       M.D. | F.R.C.P. | M.R.C.P. | F.R.C.Psych. | M.R.C.P.Ch. | M.B.Ch.B.
       Dr.C.O.G. | B.Chir. | Ch.B. | F.A.C.S. | F.A.C.P. | M.F.D.S. | C.A.E. )
       Esq .?
    </pattern>
    <pattern id="titles_bi_1" ignore="case">
     docent | magister | <pattern ref="some_prof"/>
    </pattern>
    <pattern id="titles_bi">
    <pattern ref="titles_bi_1"/> 
     ( ( MSc | MSC | MUDr | MVDr | PhDr | BSc | Bsc | CSc | Doc | Prof | PharmDr | RNDr | RSDr | DiS 
         PaedDr | PaeDr | PhMr | MgA | JUDr | BcA | ThDr ) .? )
    </pattern>
    <pattern id="title_any">
     <pattern ref="titles_bi"/> | <pattern ref="titles_pre"/> | <pattern ref="titles_suf"/>
    </pattern>
    
    <!-- title arrays;-) -->
    <pattern id="titles_pre_arr" log="0">
     ((<pattern ref="titles_bi"/>|<pattern ref="titles_pre"/>) .? ) ( ,? (<pattern ref="titles_bi"/>|<pattern ref="titles_pre"/>) .? ){0,20}
    </pattern>
    <pattern id="titles_suf_arr"> 
     (,? ((<pattern ref="titles_bi"/>|<pattern ref="titles_suf"/>) .?))+
    </pattern>
    <pattern id="titles_arr"> 
     ((<pattern ref="titles_bi"/>|<pattern ref="titles_pre"/>|<pattern ref="titles_suf"/>) (,|.)?)+
    </pattern>
    
    <value>
      <pattern cover="0.95" p="0.995" ignore="case">
       ( <pattern ref="titles_pre" /> | <pattern ref="titles_suf"/> | <pattern ref="titles_bi"/> )
      </pattern>
      <length><distribution min="1" max="8" /></length>

      <pattern cover="1.0" p="-1.0" type="format"> has_one_parent </pattern>
      <pattern cover="0.05" p="-1.0" type="format"> fits_in_parent </pattern>
      <pattern cover="1.0" p="-1.0" type="format"> no_crossed_inline_tags </pattern>
      <pattern cover="1.0" p="-1.0" type="format"> no_crossed_block_tags </pattern>

      <pattern cover="-1" p="0.7" feature="no" log="1"> <lab name="cls1.title"/> </pattern>
      <pattern cover="-1" p="0.65" feature="no" log="1"> <lab name="elg.title"/> </pattern>
    </value>

  </attribute>

  <attribute id="name" type="name" card="0-1" eng="0.51" log="0" prior="0.01">
    <pattern id="preamble" ignore="case">
     ((first | last )? name | surname | first name? (and|:|,|\+)? (last name|surname)) :?
    </pattern>
    <pattern id="postamble" ignore="case" log="0">
      from ($organization|$department) | , (head|chief|member) of | , (researcher|professor) at | will speak 
      \( <tok/>{0,3} (institute|school|university|department|foundation|company|consortium|organization|research) <tok/>{0,3} \) 
    </pattern>

    <pattern id="cap"> <tok type="alpha|apos" case="CA|UC"/> </pattern>
    <pattern id="initial">
      <tok type="alpha" case="UC">^[A-Z]$</tok> .?
      <tok type="acronym" case="UC">^[A-Z]\.[A-Z]\.?$</tok> .?
    </pattern>
    <pattern id="nameaux" ignore="case"> (le|di|von|van|de la?|del) </pattern>
    <pattern id="ini2" src="names/en/ini2_bnc7k.txt" />
    <pattern id="firstname" log="0">
      <pattern src="names/es/first_male.txt" type="pattern" ignore="case" case="CA|UC" encoding="utf-8" />
      <pattern src="names/es/first_female.txt" type="pattern" ignore="case" case="CA|UC" encoding="utf-8" />
      <pattern src="names/en/first_male.txt" type="pattern" ignore="case" case="CA|UC" encoding="iso-8859-1" />
      <pattern src="names/en/first_female.txt" type="pattern" ignore="case" case="CA|UC" encoding="iso-8859-1" />
    </pattern>

    <!--<pattern src="names/en/last18k.txt" type="pattern" ignore="case" case="CA|UC" encoding="iso-8859-1" />-->
    <!--<pattern src="names/en/last_stop7k.txt" type="pattern" ignore="case" case="CA|UC" encoding="iso-8859-1" />-->
    <pattern id="surname1">
      <pattern src="names/es/last.txt" type="pattern" ignore="case" case="CA|UC" encoding="utf-8" />
      <pattern src="names/en/last18k.txt" type="pattern" ignore="case" case="CA|UC" encoding="iso-8859-1" />
    </pattern>
    <pattern id="surname_cn">
      <pattern src="names/en/last_cn.txt" type="pattern" ignore="case" case="CA|UC" encoding="iso-8859-1" />
    </pattern>
    <pattern id="surname2"> <pattern ref="surname_cn"/> | <pattern ref="surname1"/> </pattern>
    <pattern id="surname">
      <pattern ref="surname2"/>
      <pattern ref="surname2"/> - (<pattern ref="surname2"/> | <pattern ref="cap"/>)
      (<pattern ref="surname2"/> | <pattern ref="cap"/>) - <pattern ref="surname2"/>
      <tok>^[A-Z][a-z]*(man|mann|stein|sky|cky|ski|cky|ska|ov|ev|escu|ej|nen|son|elli|ato|dez|déz|tes|tés|rra|rras|ez|�z)$</tok>
      (van|von) <tok>^[A-Z][a-z]{3,15}$</tok>
      <tok>^Mc[A-Z][a-z]{3,15}$</tok>
    </pattern>
    
    <pattern id="a_name"> <pattern ref="firstname"/> | <pattern ref="surname"/> </pattern>
    
    <pattern id="middle"> <pattern ref="initial"/> | <pattern ref="nameaux"/> </pattern>
    <pattern id="midname"> <pattern ref="middle"/> | <pattern ref="a_name"/> </pattern>
    <pattern id="midname_unk"> <pattern ref="midname"/> | <tok type="alpha" case="CA">\w+</tok> </pattern>
    <pattern id="jr" ignore="case"> junior | jr . | senior </pattern>

    <!-- patterns directly used in value section -->
    <pattern id="bothknown">
      <pattern ref="initial"/>? <pattern ref="firstname"/>{1,2} <pattern ref="midname_unk"/>{0,4} <pattern ref="surname" />
      <pattern ref="surname" /> ,? <pattern ref="initial"/>{1,3} <pattern ref="firstname"/>
    </pattern>
    <pattern id="firstknown">
      <pattern ref="initial"/>? <pattern ref="firstname"/>{1,2} <pattern ref="midname_unk"/>{0,4} (<tok case="CA|UC" /> | <pattern ref="surname" />){1,2}
      <tok case="CA">^[A-Z][a-z]{3,15}$</tok> , <pattern ref="initial"/>{0,3} <pattern ref="firstname"/>
    </pattern>
    <pattern id="lastknown">
      <tok case="CA|UC"/> (-<tok case="CA|UC"/>)? <pattern ref="midname_unk"/>{0,4} <pattern ref="surname" />{1,2}
    </pattern>
    <pattern id="lastknown_initials">
      <pattern ref="initial"/>{1,3} <pattern ref="surname" />
      <pattern ref="surname" /> ,? <pattern ref="initial"/>{1,3}
      <pattern ref="surname" /> ,? <pattern ref="ini2"/>
    </pattern>
    <pattern id="unknown_initials">
      <pattern ref="initial"/>{1,3} <tok type="alpha|apos" case="CA|UC" ignore="case">^[a-z]{2,50}$</tok>
      <tok type="alpha|apos" case="CA|UC" ignore="case">^[a-z]{2,50}$</tok> ,? (<pattern ref="ini2"/> | <pattern ref="initial"/>{1,3})
    </pattern>
    <!-- name composed of unknown proper names requires presence of contextual evidence -->
    <pattern id="unknown" log="0">
      (<tok type="alpha|apos" case="CA|UC"/> -? | <pattern ref="midname_unk"/>){0,4} <tok type="alpha|apos" case="CA|UC" ignore="case">^[a-z]{2,50}$</tok>
    </pattern>
    
    <context>
      <pattern cover="0.01" p="0.2" log="0" linear="1"> <pattern ref="Contact.title.titles_pre_arr"/> $ </pattern>
      <pattern cover="0.01" p="0.2" log="0" linear="1"> $ (,|-)? <pattern ref="Contact.title.titles_suf_arr"/> </pattern>
      <pattern cover="0.02" p="0.6" ignore="case" linear="1"> $ <pattern ref="postamble"/> </pattern>
      <pattern cover="0.02" p="0.5" ignore="case"> <pattern ref="preamble"/> $ </pattern>
<!-- 
      <pattern cover="0.05" p="0.4" ignore="case" log="1"> 
        $title <pattern ref="Contact.title.nobr"/> $
      </pattern>
      <pattern cover="0.05" p="0.4" ignore="case" log="1"> 
        $ <pattern ref="Contact.title.nobr"/> , <pattern ref="Contact.title.nobr"/> $title
      </pattern>
-->
    </context>
    
    <value>
      <!-- this axiom should be defined for the class contact but is here temporarily due to a bug --> 
      <axiom id="must_have_person_or_org" cond="none">
        ($name!=undefined) || ($organization!=undefined)
      </axiom>
      
      <and cover="0.01" p="0.7">
        <pattern id="v10" log="0">
          <pattern ref="unknown_initials"/>
        </pattern>
        <pattern type="script" log="0">
          ! (/^(A|I|U)\s*[^.]/.test($) || /^P\s*\.?\s*(O|S|R)[\s\.\-]/.test($))
        </pattern>
      </and>
      
      <or>
        <!-- OR group only uses the evidence in it which is observed and has the highest precision. 
             When no evidence is observed, coverage of each evidence is used separately to suppress the predicted attribute. -->
        <pattern id="v1" cover="0.01" p="0.8">
          <pattern ref="bothknown"/> (,? <pattern ref="jr"/>)?
        </pattern>
      
        <pattern id="v2" cover="0.01" p="0.75">
          <pattern ref="firstknown"/> (,? <pattern ref="jr"/>)?
        </pattern>
      
        <pattern id="v3" cover="0.01" p="0.55">
          <pattern ref="lastknown"/>
        </pattern>
        
        <pattern id="v9" cover="0.01" p="0.75">
          <pattern ref="lastknown_initials"/>
        </pattern>
                
        <pattern id="v4" cover="0.01" p="0.75">
          <pattern ref="lastknown"/> ,? <pattern ref="jr"/>
        </pattern>
      
        <pattern id="v5" cover="0.01" p="0.25">
          <pattern ref="surname"/>
        </pattern>
        <pattern id="v6" cover="0.01" p="0.77">
          <pattern ref="surname"/> ,? <pattern ref="jr"/>
        </pattern>
        <pattern id="v7" cover="0.01" p="0.7">
          <pattern ref="surname_cn"/>
        </pattern>
        
        <pattern id="v8" cover="0.01" p="0.08">
          <pattern ref="unknown"/>
        </pattern>
	  </or>
      
      <pattern id="valpats">
        <pattern ref="v1"/>|<pattern ref="v2"/>|<pattern ref="v3"/>|<pattern ref="v4"/>
        <pattern ref="v5"/>|<pattern ref="v6"/>|<pattern ref="v7"/>|<pattern ref="v8"/>
        <pattern ref="v9"/>|<pattern ref="v10"/>
      </pattern>

      <pattern type="script" cover="1" p="-1"> checkPersonName($) </pattern>

      <length> <distribution min="1" max="8" /> </length>
      <pattern cover="0.4" p="-1.0" type="format"> has_one_parent </pattern>
      <pattern cover="0.05" p="-1.0" type="format"> fits_in_parent </pattern>
      <pattern cover="0.7" p="-1.0" type="format"> no_crossed_inline_tags </pattern>
      <pattern cover="1" p="-1.0" type="format"> no_crossed_block_tags </pattern>      

      <refers> nameRefersTo($, $other) </refers>
      
      <!-- classifiers -->
      <pattern id="cls1_name" cover="-1" p="0.7" feature="no" log="1"> <lab name="cls1.name" /> </pattern>
      <pattern id="elg_name" cover="-1" p="0.7" feature="no" log="1"> <lab name="elg.name" /> </pattern>

      <!-- restrictions -->
      <pattern cover="0" p="0" log="0"> <pattern ref="Contact.title.ml"/> </pattern>
      <pattern cover="0.01" p="0" log="0"> <pattern ref="Contact.title.titles_arr"/> </pattern>
      <pattern cover="0.01" p="0.005" log="0"> <pattern ref="Contact.title.stop"/> <tok/>{0,7} </pattern>
      
      <!-- a filter that all recognized names must match; this is necessary as attribute candidates 
           can be created just based on context; e.g. 1-6 token segments following after Dr. -->
      <pattern cover="0.9999" p="-1.0">
        <pattern ref="valpats"/>|<pattern ref="unknown"/>|<pattern ref="elg_name"/>|<pattern ref="cls1_name"/>
      </pattern>
    </value>
  </attribute>

  <attribute id="name_author" extends="name" card="0-1">
    <pattern id="left_en" ignore="case">
     (author|(written|authored|submitted) by) :?
    </pattern>
    <context>
      <pattern cover="0.05" p="0.55" ignore="case"> 
        <pattern ref="left_en"/> $
      </pattern>
	</context>
  </attribute>

  <attribute id="name_sponsor" extends="name" card="0-1">
    <pattern id="left_en" ignore="case"> ((financed|supported|sponsored) by
     (thank|thanks) to our (sponsors|sponsor|supporters)) :?
    </pattern>
    <context>
      <pattern cover="0.05" p="0.55" ignore="case"> 
        <pattern ref="left_en"/> $
      </pattern>
    </context>
  </attribute>

  <attribute id="name_responsible" extends="name" card="0-1">
    <pattern id="resp" ignore="case" log="0">
     (responsible|responsibles|managing|manager|coordinator|co-ordinator|coordinating|co-ordinating
      officer|director|head|chief|boss) (person|persons|contact|contacts|staff|name|names|chief
      boss|editor|(website|content)? manager){0,4} 
    </pattern>
    <pattern id="manages" ignore="case">
     manages | directs | controls | ((has|have) the? responsibility | is responsible) for?
    </pattern>
    <pattern id="content" ignore="case">
     (for|of)? <tok/>{1,5} (medical|scientific|content|information){1,2} (online|on (the|this
      these) (web pages?|site|website|pages)) 
    </pattern>
    <pattern id="left_en" ignore="case" log="0">
     <pattern ref="resp"/> <pattern ref="content"/>? :?
    </pattern>
    <pattern id="right_en" ignore="case">
      <pattern ref="manages"/>
      (, | - | is | are | was | were | (has|have) been | works as) the? <pattern ref="resp"/>
    </pattern>
    <!-- not needed at last: 
    <value>
      <pattern p="0" cover="-1" ignore="case"> <tok/>{0,2} <pattern ref="Contact.title.stop"/> <tok/>{0,2} </pattern>
    </value> -->
    <context>
      <pattern cover="0.05" p="0.1" ignore="case">
        <pattern ref="left_en"/> $
      </pattern>
      <pattern cover="0.05" p="0.09" ignore="case">
        $ <pattern ref="right_en"/>
      </pattern>
	</context>
  </attribute>

  <attribute id="name_vc_responsible" extends="name" card="0-1">
    <pattern id="online" ignore="case"> 
     virtual|remote|on-line|online|on line|web|on the web|web-based|internet|medical|electronic|e|e-
    </pattern>
    <pattern id="vc" ignore="case">
     <pattern ref="online"/>? (consultation|consultations|chat|chats|advice|advices|advises
      advise) <pattern ref="online"/>? (service|services)?
      VC
    </pattern>
    <pattern id="vcr" ignore="case">
     <pattern ref="Contact.name_responsible.resp"/> (for|of)? <tok/>{0,5} <pattern ref="vc"/> <tok/>{0,2}
    </pattern>
    <pattern id="left_en" ignore="case" log="0">
     <pattern ref="vcr"/> :?
     <pattern ref="vc"/> ((coordinated|co-ordinated|managed|directed)? by)? :?
    </pattern>
    <pattern id="right_en" ignore="case">
      <pattern ref="Contact.name_responsible.manages"/> <tok/>{0,3} <pattern ref="vc"/>
      (, | - | is | are | was | were | (has|have) been | works as) the? (<tok/>
         <pattern ref="Contact.name_responsible.resp"/>){1,3} <pattern ref="vc"/>
    </pattern>
    <context>
      <pattern cover="0.05" p="0.11" ignore="case">
        <pattern ref="left_en"/> $
      </pattern>
      <pattern cover="0.05" p="0.11" ignore="case">
        $ <pattern ref="right_en"/>
      </pattern>
	</context>
  </attribute>

  <attribute id="name_webmaster" extends="name" card="0-1" log="0">
    <pattern id="wbm" ignore="case" log="0">
     (webmaster|web master|web administrator|developer|web? admin) (name|contact|names|contacts|staff)? :?
     IT (staff|support|contact|contacts){0,2}
    </pattern>
    <pattern id="left_en" ignore="case" log="0">
     ( <pattern ref="wbm"/> is?
      (web|pages|web pages|webpages|website|web site|site|design|web design|webdesign) ((was|is) (created
       done|made|developed|maintained|administered|administrated))? by) :?
    </pattern>
    <pattern id="right_en" ignore="case" log="0">
      (, | is | works as) the? <pattern ref="wbm"/>
    </pattern>
    <context>
      <pattern cover="0.05" p="0.12" ignore="case" log="0">
         <pattern ref="left_en"/> $
      </pattern>
      <pattern cover="0.05" p="0.12" ignore="case">
         $ <pattern ref="right_en"/>
      </pattern>
	</context>
  </attribute>
   
  <attribute id="job" type="name" card="0-1" eng="0.6">
    <value>
      <pattern p="0.8" cover="0.1" ignore="case" log="0">
       secretary | director | manager | chief <tok type="ALPHA"/> 
       deputy <tok type="ALPHA"/> | (department|group) head 
       head of the? <tok type="ALPHA"/>{0,2} (department|group)
       CEO | C.E.O
      </pattern>
      <length> <distribution min="1" max="6" /> </length>
      <pattern cover="0.1" p="-1.0" type="format"> has_one_parent </pattern>
      <pattern cover="0.1" p="-1.0" type="format"> fits_in_parent </pattern>
      <pattern cover="1" p="-1.0" type="format"> no_crossed_inline_tags </pattern>
      <pattern cover="1" p="-1.0" type="format"> no_crossed_block_tags </pattern>

      <!-- CRF classifier -->      
      <pattern cover="-1" p="0.6" feature="no" log="1"> <lab name="cls1.job"/> </pattern>
      <pattern cover="-1" p="0.6" feature="no" log="1"> <lab name="elg.job"/> </pattern>      
    </value>
  </attribute>
   
<!-- *********************************************************************** -->
<!-- ******************************* ADDRESS ******************************* -->
<!-- *********************************************************************** -->

  <attribute id="street" type="name" card="0-1" eng="0.70">
    <pattern id="street_suffix_cap" case="CA|UC"> Way | Lake | Square | Place | Ridge | Beach | Valley | Ridge </pattern>
    <pattern id="street_suffix" ignore="case">
      street | st .? | road | rd .? | parkway | pkwy .? | drive | drv .? | sq .? 
      boulevard | boul .? | blv .? | blvd .? | pl .? | pike | turnpike | turn pike 
      avenue | ave .? | av .? | lane | ln . | lk .
      <pattern ref="street_suffix_cap"/>
    </pattern>
    <pattern id="geo_dirs" ignore="case">
      Northern | Southern | Western | Eastern | North | South | West | East | ( (NW | NE | SW | SE | E | W | N | S) .? )
    </pattern>
    <pattern id="full_street_pattern">
      <pattern ref="geo_dirs"/>? <tok type="INT"/>? ( (<tok type="INT"/> ( (-|.)? (th|rd|st|nd) )? ) | <tok type="NUMALPHA"/>) <tok type="ALPHA|NUMALPHA" case="CA|UC"/>{0,3} <pattern ref="street_suffix"/> ( ,? <pattern ref="geo_dirs"/> )?
    </pattern>
    <pattern id="simple_street_pattern">
      <pattern ref="geo_dirs"/>? <tok type="ALPHA|NUMALPHA" case="CA|UC"/>{1,3} <pattern ref="street_suffix"/>
    </pattern>
    <value>
      <pattern cover="0.20" ignore="case" p="0.8"> <pattern ref="full_street_pattern"/> </pattern>
      <pattern cover="0.05" ignore="case" p="0.7"> <pattern ref="simple_street_pattern"/> </pattern>
      <length><distribution min="1" max="9" /></length>
      <pattern cover="0.6" p="-1.0" type="format"> has_one_parent </pattern>
      <pattern cover="0.2" p="-1.0" type="format"> fits_in_parent </pattern>
      <pattern cover="0.6" p="-1.0" type="format"> no_crossed_inline_tags </pattern>
      <pattern cover="0.6" p="-1.0" type="format"> no_crossed_block_tags </pattern>

      <!-- refers to n-ary classifier of id="cls1" defined at class level -->
      <pattern cover="-1" p="0.6" feature="no" log="1"> <lab name="cls1.street" /> </pattern>
      <pattern cover="-1" p="0.7" feature="no" log="1"> <lab name="elg.street" /> </pattern>
    </value>
    <context>
      <pattern cover="0.05" p="0.40"> (street | address) :? $ </pattern>
      <pattern cover="0.05" p="0.05"> ($name | $organization) (,|:)? $ </pattern>
      <pattern cover="0.05" p="0.05"> $ (,|;) $city </pattern>
    </context>
  </attribute>

  <attribute id="city" type="name" card="0-2" eng="0.51">
    <pattern id="europe_big_cities" src="addresses/en/europe_big_cities.txt" type="pattern" ignore="case" case="^CA|UC"/>
    <pattern id="us_big_cities" src="addresses/en/us_big_cities.txt" type="pattern" ignore="case" case="^CA|UC"/>
    <pattern id="us_selected_cities" src="addresses/en/us_selected_cities.txt" type="pattern" encoding="iso-8859-1" ignore="case" case="^CA|UC"/>
    <!-- <pattern id="us_places_names"><pattern src="addresses/en/us_places_names.txt" type="pattern" encoding="iso-8859-1" ignore="case" case="^CA|UC"/></pattern> -->
    <pattern id="uk_big_cities" src="addresses/en/uk_big_cities.txt" type="pattern" ignore="case" case="^CA|UC"/>
    <pattern id="world_big_cities" src="addresses/en/world_big_cities.txt" type="pattern" ignore="case" case="^CA|UC"/>
    <pattern id="world_capitals" src="addresses/en/world_capitals.txt" type="pattern" ignore="case" case="^CA|UC"/>
    <pattern id="en_city_pat"> <tok>^[A-Z][a-z]*(ville|ston|town|polis)$</tok> </pattern>
    <pattern id="all_cities" log="0" >
      <pattern ref="europe_big_cities"/> | <pattern ref="us_big_cities"/> | <pattern ref="uk_big_cities"/>
      <pattern ref="world_big_cities"/> | <pattern ref="world_capitals"/> | <pattern ref="us_selected_cities"/>
      <pattern ref="en_city_pat"/>
    </pattern>
    <pattern id="city_suffix"> City | Village | Town </pattern>
    <pattern id="city_prefix"> City of | Ciudad (del|de) (la|las)? | San </pattern>
    <value>
      <pattern cover="0.05" p="0.75" ignore="case" case="^CA|UC">
        <pattern ref="city_prefix"/>? <pattern ref="all_cities"/> <pattern ref="city_suffix"/>?
      </pattern>
      <pattern cover="0.05" ignore="case" p="0.70">
        <tok case="CA|UC"/>{1,2} <pattern ref="city_suffix"/>
        <pattern ref="city_prefix"/> <tok case="CA|UC"/>{1,2}
      </pattern>
      <length><distribution min="1" max="4" /></length>
      <!-- don't allow digits etc. in city name -->
      <pattern type="script" cover="1.0" p="-1.0"> !/\d/.test($) </pattern>
      <pattern type="script" cover="0.95" p="-1.0"> !/[\-,]/.test($) </pattern>
      <!-- tags -->
      <pattern cover="1.0" p="-1.0" type="format"> has_one_parent </pattern>
      <pattern cover="0.02" p="-1.0" type="format"> fits_in_parent </pattern>
      <pattern cover="1.0" p="-1.0" type="format"> no_crossed_inline_tags </pattern>
      <pattern cover="1.0" p="-1.0" type="format"> no_crossed_block_tags </pattern>
      
      <!-- CRF classifier -->
      <pattern cover="-1" p="0.65" feature="no" log="1"> <lab name="elg.city"/> </pattern>
    </value>
    <context>
      <!-- boost myself a bit if there is a street or org on the left and/or a zip code on the right -->
      <pattern cover="0.02" p="0.4"> $street (,|-)? $ </pattern>
      <!-- <pattern cover="0.02" p="0.15" log="1"> $organization (in|of|,|-)? $ </pattern> -->
      <pattern cover="0.03" p="0.2"> $zip (,|-)? $ </pattern>
      <or>
        <pattern cover="0.02" p="0.2"> $ (,|-)? $country </pattern>
        <pattern cover="0.02" p="0.75"> $ (,|-)? <pattern ref="Contact.title.us_states_abbr"/> </pattern>
      </or>
    </context>
  </attribute>

  <attribute id="region" type="name" card="0-2" eng="0.51">
    <pattern id="special_regions">
      Petriny | Chodov | Saarland
    </pattern>
    <pattern id="us_counties" src="addresses/en/us_selected_counties.txt" type="pattern" encoding="iso-8859-1" />
    <pattern id="geo_dirs">
      Northern | Southern | Western | Eastern | North | South | West | East
    </pattern>
    <pattern id="lr_dirs" ignore="case">
      left | right
    </pattern>
    <pattern id="all_regions">
      <pattern ref="geo_dirs"/>? (<pattern ref="us_counties"/> | <pattern ref="special_regions"/>)
    </pattern>
    <value>
      <pattern cover="0.01" ignore="case" p="0.65">
        <pattern ref="all_regions"/>
      </pattern>
      <pattern cover="0.02" ignore="case" p="0.7">
        suite <tok type="INT|NUMALPHA"/> ( <pattern ref="geo_dirs"/> | <pattern ref="lr_dirs"/> )?
      </pattern>
      <length><distribution min="1" max="6" /></length>
      
      <!-- CRF classifier -->
      <pattern cover="-1" p="0.65" feature="no" log="1"> <lab name="elg.region"/> </pattern>
    </value>
  </attribute>

  <attribute id="country" type="name" card="0-2" eng="0.51" log="0">
    <pattern id="world_countries_short" src="addresses/en/world_countries_short.txt" type="pattern" encoding="windows-1250" ignore="case" case="^CA|UC"/>
    <pattern id="world_countries_long" src="addresses/en/world_countries_long.txt" type="pattern" encoding="windows-1250" ignore="case" case="^CA|UC"/>
    <!--<pattern id="world_countries_abbr" src="addresses/en/world_countries_abbr.txt" type="pattern" ignore="case" case="^CA|UC"/>-->
    <pattern id="europe_countries" src="addresses/en/europe_countries.txt" type="pattern" encoding="windows-1250" ignore="case" case="^CA|UC"/>
    <pattern id="us_states_name" src="addresses/en/us_states_name.txt" type="pattern" ignore="case" case="^CA|UC"/>
    <!--<pattern id="us_states_abbr" src="addresses/en/us_states_abbr.txt" type="pattern" />-->
    <!--<pattern id="us_states_abbr" type="pattern"> DC|D.C.|D .? C .?|AK|AL|AR|AZ|CA|CO|CT|FL|GA|HI|IA|ID|IL|KS|KY|LA|MA|MD|ME|MI|MN|MO|MS|MT|NC|ND|NE|NH|NJ|NM|NV|NY|PA|PR|RI|SC|SD|TN|TX|UT|VA|VT|WA|WI|WV|WY </pattern>-->
    <pattern id="usa"> U.S.A. | U . S . A . | USA | U S A | United States (of America)? </pattern>
    <pattern id="eu"> E.U. | E . U . | EU | European Union | Europe </pattern>
    <pattern id="uk"> U.K. | U . K . | UK | United Kingdom | Great Britain | GB | G . B . </pattern>
    <pattern id="major_abbr"> <pattern ref="usa"/> | <pattern ref="eu"/> | <pattern ref="uk"/> </pattern>
    <pattern id="all_countries" log="0">
      <pattern ref="world_countries_short"/>
      <pattern ref="world_countries_long"/>
    </pattern>
    <pattern id="city_pat"> <tok type="alpha|apos" case="CA|UC"/>{1,2} (Village|City|Town) </pattern>
    <value>
      <pattern cover="0.1" ignore="case" p="0.97" log="0">
        (Republic of | República de)? <pattern ref="all_countries"/> (Republic | República)?
      </pattern>
      <pattern cover="0.01" ignore="case" p="0.97">
        <pattern ref="us_states_name"/> ,? <pattern ref="usa" />
      </pattern>
      <pattern cover="0.01" p="0.89">
        <pattern ref="us_states_name"/>
      </pattern>
      <pattern cover="0.01" p="0.8">
        <pattern ref="Contact.title.us_states_abbr"/>
      </pattern>
      <pattern cover="0.01" ignore="case" p="0.9">
        <pattern ref="europe_countries"/> ,? <pattern ref="eu" />
      </pattern>
      <pattern cover="0.01" ignore="case" p="0.8">
        <pattern ref="major_abbr"/>
      </pattern>
      <pattern cover="0.01" p="0.75">
        <pattern ref="city_pat"/>
      </pattern>
      <length><distribution min="1" max="10" /></length>
      <!-- tags -->
      <pattern cover="1.0" p="-1.0" type="format"> has_one_parent </pattern>
      <pattern cover="0.02" p="-1.0" type="format"> fits_in_parent </pattern>
      <pattern cover="1.0" p="-1.0" type="format"> no_crossed_inline_tags </pattern>
      <pattern cover="1.0" p="-1.0" type="format"> no_crossed_block_tags </pattern>
      
      <!-- CRF classifier -->
      <pattern cover="-1" p="0.65" feature="no" log="1"> <lab name="elg.country"/> </pattern>
    </value>
    <context>
      <pattern cover="0.02" p="0.4"> <pattern ref="Contact.city.all_cities"/> (,|-)? $ </pattern>
    </context>
  </attribute>

  <attribute id="zip" type="name" card="0-1" eng="0.50" prune="0.51">
    <pattern id="two_ints"> <tok type="INT"/>{1,2} | (<tok type="INT"/> - <tok type="INT"/>) </pattern>
    <pattern id="two_alphanums"> (<tok type="ALPHANUM"/> <tok type="NUMALPHA"/>) | (<tok type="ALPHANUM"/> - <tok type="NUMALPHA"/>) </pattern>
    <value>
      <!-- UK zip codes satisfy A9 9AA|A99 9AA|A9A 9AA|AA9 9AA|AA99 9AA|AA9A 9AA -->
      <pattern type="script" cover="1.0" p="0.75"> 
       /^\d{5}$/.test($) || /^\d{3} \d{2}$/.test($) || /^\d{5} - \d{4}$/.test($) || 
       /^[A-Z]((\d{1,2})|(\d[A-Z])|([A-Z]\d)|([A-Z]\d(\d|[A-Z])))( | \- )\d[A-Z]{2}$/.test($)
      </pattern>
      <pattern cover="1.0" p="0.4">
        <pattern ref="two_ints"/> | <pattern ref="two_alphanums"/>
      </pattern>
      <!--
      <pattern cover="1.0" p="0.7">
        <pattern ref="Contact.zip.zipcode_regexp"/>
      </pattern>
      -->
      <length><distribution min="1" max="3" /></length>
      <pattern cover="1.0" p="-1.0" type="format"> has_one_parent </pattern>
      <pattern cover="0.2" p="-1.0" type="format"> fits_in_parent </pattern>
      <pattern cover="1.0" p="-1.0" type="format"> no_crossed_inline_tags </pattern>
      <pattern cover="1.0" p="-1.0" type="format"> no_crossed_block_tags </pattern>
      
      <!-- CRF classifier -->
      <pattern cover="-1" p="0.75" feature="no" log="1"> <lab name="elg.zip"/> </pattern>
    </value>
    <context>
      <!-- prevent other numbers in context -->
      <pattern cover="0.001" p="0.000001"> <tok type="INT"/> $ </pattern>
      <pattern cover="0.001" p="0.000001"> $ <tok type="INT"/> </pattern>
      <!-- prevent ":" on the left which often indicates page numbers like pp: 123-25 -->
      <pattern cover="0.001" p="0" log="0"> : $ </pattern>
      <!-- boost myself a bit if there is a city or country on the left -->
      <pattern cover="0.3" p="0.2"> $city ,? $ </pattern>
      <pattern cover="0.01" p="0.15"> $country ,? $ </pattern>
      <pattern cover="0.01" p="0.2"> (code postal | postal code | (CP | C.P) .?) (:|-)? $ </pattern>
    </context>
  </attribute>

<!-- *********************************************************************** -->
<!-- ************************** ORGANIZATION ******************************* -->
<!-- *********************************************************************** -->
  
  <attribute id="organization" type="name" card="0-2" eng="0.55" log="0">
    <pattern id="company"><pattern src="companies/en/names.txt" type="pattern" encoding="iso-8859-1" /></pattern>
    <pattern id="form" ignore="case">
      ,? ( i .? n .? c .? | incorporated | inc . | company | comp .? | l .? t .? d .? | org .? 
           llc .? | l . l . c . | l.l.c. | plc .? | p . l . c . | p.l.c. )
    </pattern>
    <pattern id="med_org">
      Organisation | Association | Academy | Clinic | ((University|School|College)? Hospital) | Infirmary | Society | Trust
    </pattern>
    <pattern id="med_org_forof">
      University | School | College | Association | Academy | Society | Library | Institute | Foundation
    </pattern>
    <pattern id="org_name">
      (St .? | The)? ((<tok case="CA"/> (<tok case="CA"/> | , ){0,4}) | $name) ((and | &amp;) <tok case="CA"/>{1,2})?
    </pattern>
    <pattern id="org_pat">
      <pattern ref="form"/> | <pattern ref="med_org"/>
    </pattern>
    <pattern id="comp_abbr">
      \( <tok case="UC" type="ALPHA|ACRONYM"/> \)
    </pattern>
    <pattern id="works_for">
     (works|worked) (for|at) | employed by
    </pattern>
    <value>
      <or>
        <pattern cover="0.02" ignore="case" p="0.95" log="0">
        <pattern ref="company" /> <pattern ref="org_pat" /> <pattern ref="comp_abbr"/>?
      </pattern>
        <pattern cover="0.02" ignore="case" p="0.8" log="0">
        <tok case="CA|UC"/>{1,4} <pattern ref="org_pat" /> <pattern ref="comp_abbr"/>?
      </pattern>
      <pattern cover="0.02" ignore="case" p="0.8">
        <pattern ref="company" /> <pattern ref="comp_abbr"/>?
      </pattern>
      <pattern cover="0.02" ignore="case" p="0.9">
        <tok case="CA|UC"/>{0,2} (Medical|Health|Science)? (Center|Centre) for <tok case="CA|UC"/>{1,2}
      </pattern>
      <pattern cover="0.02" ignore="case" p="0.9">
        <tok case="CA|UC"/>{1,2} (Medical|Health|Science) (Center|Centre)
      </pattern>
      <pattern cover="0.02" p="0.8">
        <tok case="CA|UC"/>{1,2} OnLine <pattern ref="comp_abbr"/>?
      </pattern>
      <pattern cover="0.02" p="0.6">
        <tok case="CA|UC"/>{2,3} Services <pattern ref="comp_abbr"/>?
      </pattern>
      <pattern cover="0.02" p="0.9">
        <pattern ref="org_name"/> <pattern ref="med_org_forof"/> ((of|for) <tok case="CA|UC"/>{1,2})?
        <pattern ref="org_name"/>? <pattern ref="med_org_forof"/> (in|of)? $city
        ($region|$city|$country) <pattern ref="med_org_forof"/> ((of|for) <tok case="CA|UC"/>{1,2})?
      </pattern>
      </or>
      <length><distribution min="1" max="6" /></length>
      <pattern cover="0.4" p="-1.0" type="format"> has_one_parent </pattern>
      <pattern cover="0.05" p="-1.0" type="format"> fits_in_parent </pattern>
      <pattern cover="0.2" p="-1.0" type="format"> no_crossed_inline_tags </pattern>
      <pattern cover="0.9" p="-1.0" type="format"> no_crossed_block_tags </pattern>
      
      <pattern type="script" cover="1" p="-1"> checkOrgName($) </pattern>

      <!-- refers to n-ary classifier of id="cls1" defined at class level -->
      <pattern cover="-1" p="0.6" feature="no" log="1"> <lab name="cls1.organization" /> </pattern>
      <pattern cover="-1" p="0.65" feature="no" log="1"> <lab name="elg.organization" /> </pattern>
      
      <!-- restrictions -->
      <pattern cover="0" p="0" log="0"> <pattern ref="Contact.title.ml"/> </pattern>
    </value>
    <context>
      <pattern cover="0.02" p="0.6"> <pattern ref="works_for"/> :? $ </pattern>
    </context>
  </attribute>

  <attribute id="organization_sponsor" type="name" extends="organization" >
    <context>
      <pattern cover="0.05" p="0.55"> 
        <pattern ref="Contact.name_sponsor.left_en"/> $
      </pattern>
	</context>
  </attribute>

  <attribute id="department" type="name" card="0-2" eng="0.60">
    <pattern id="dept" ignore="case"> (Department | Dept .?) of <tok case="CA|UC"/>{1,3} (and <tok case="CA|UC"/>? <tok case="CA|UC"/>)? </pattern>
    <pattern id="unit"> <tok case="CA|UC"/> {1,3} Unit </pattern>
    <value>
      <pattern cover="0.02" ignore="case" p="0.9">
        <pattern ref="dept"/>
      </pattern>
      <pattern cover="0.02" ignore="case" p="0.8">
        <pattern ref="unit"/>
      </pattern>
      <length><distribution min="1" max="6" /></length>

      <!-- refers to n-ary classifier of id="cls1" defined at class level -->
      <pattern cover="-1" p="0.6" feature="no" log="1"> <lab name="cls1.department" /> </pattern>
      <pattern cover="-1" p="0.65" feature="no" log="1"> <lab name="elg.department" /> </pattern>
      
      <!-- restrictions -->
      <pattern cover="0" p="0" log="0"> <pattern ref="Contact.title.ml"/> </pattern>
    </value>
    <context>
      <pattern cover="0.02" ignore="case" p="0.9">
        (head | chief) of the $
      </pattern>
    </context>
  </attribute>

<!-- *********************************************************************** -->
<!-- *************************** CONTACT DETAILS *************************** -->
<!-- *********************************************************************** -->

  <attribute id="email" type="name" card="0-1" eng="0.60" log="0">
    <value>
      <pattern cover="0.98" ignore="case" p="0.9" log="0">
        <tok type="EMAIL" />
        <tok type="ALPHA|ALPHANUM"/> ( . <tok type="ALPHA|ALPHANUM"/> )? at ( <tok type="ALPHA|ALPHANUM"/> . ){1,3} (cz|org|com|eu|de|sk|pl|es|gr|ch|fi|gb|uk|hu|au|ru|it|ca)
      </pattern>
      <length><distribution min="1" max="3" /></length>
    </value>
    <context>
      <pattern cover="0.1" ignore="case,lemma" p="0.3"> ( email | e-mail | e .? mail ) :? $ </pattern>
    </context>
  </attribute>
  
  <attribute id="email_webmaster" type="name" card="0-1" eng="0.60" log="0" extends="email">
    <value>
      <pattern cover="0.05" ignore="case" p="0.999" log="0">
        <tok type="EMAIL"> ^(webmaster|admin|root) </tok>
      </pattern>
    </value>
    <context>
      <pattern cover="0.05" p="0.3"> <pattern ref="Contact.name_webmaster.left_en"/> $ </pattern>
    </context>
  </attribute>

  <attribute id="phone" type="name" card="0-4" eng="0.51" prune="0.20">
    <pattern id="prefix_bracketed"> \( \+? <tok type="INT">^\d{1,4}$</tok> \) </pattern>
    <pattern id="prefix_unbracketed">  \+? <tok type="INT">^\d{1,4}$</tok> </pattern>
    <pattern id="num_wo_prefix"> 
      (-|/)? <tok type="INT">^\d{5,9}$</tok>
      ((-|/)? <tok type="INT">^\d{3,4}$</tok>){2,3}
      ((-|/)? <tok type="INT">^\d{2,3}$</tok>){2,4}
      (-|/)? <tok type="INT">^\d{1,2}$</tok> -? <tok type="INT">^\d{3,5}$</tok>{2,3}
      <tok type="INT">^\d$</tok> (-? <tok type="INT">^\d{3,4}$</tok>){2,3}
    </pattern>
    <pattern id="cc"> \+? <tok type="INT">^\d{1,3}$</tok> (-|/)? </pattern>
    <value>
      <or>
        <pattern id="v1" cover="0.01" p="0.95" log="0">
          <pattern ref="cc"/>? <pattern ref="prefix_bracketed"/> <pattern ref="num_wo_prefix"/>
        </pattern>
        <pattern id="v2" cover="0.01" p="0.65">
          <pattern ref="prefix_unbracketed"/> <pattern ref="num_wo_prefix"/>
        </pattern>
        <pattern id="v3" cover="0.01" p="0.05"> 
           <pattern ref="cc"/>? <tok type="INT"/> ( -? <tok type="INT"/> ){1,2}
        </pattern>
        <pattern id="v4" cover="0.01" p="0.65">
          <tok type="INT">^\d{3}$</tok> ( - <tok type="INT">^\d{3,8}$</tok> ){1}
          <tok type="INT">^\d{2,3}$</tok> ( - <tok type="INT">^\d{3,4}$</tok> ){2,3} 
        </pattern>
        <pattern id="v5" cover="-1" p="0.05"> <tok type="INT"/>{2,4} </pattern>
      </or>
 
      <length><distribution min="1" max="10" /></length>
      <pattern cover="1.0" p="-1" type="format"> has_one_parent </pattern>
      <pattern cover="0.02" p="-1" type="format"> fits_in_parent </pattern>
      <pattern cover="1.0" p="-1" type="format"> no_crossed_inline_tags </pattern>
      <pattern cover="1.0" p="-1" type="format"> no_crossed_block_tags </pattern>
      
      <pattern type="script" cover="0.95" p="-1"> checkTel($) </pattern>
      <refers> sameTel($, $other) </refers>
      
      <!-- restrictions -->
      <pattern cover="0.01" p="0.001" type="pattern"> <pattern ref="Contact.title.ml"/> </pattern>
      <pattern cover="0.01" p="0.001"> <pattern ref="_datatypes.year"/> - <pattern ref="_datatypes.year"/> </pattern>
      
      <!-- CRF classifier -->
      <pattern id="elg_phone" cover="-1" p="0.8" feature="no" log="1"> <lab name="elg.phone"/> | <lab name="elg.phone_ext"/> </pattern>
      
      <pattern cover="1.0" p="-1.0" type="pattern"> 
        <pattern ref="v1"/> | <pattern ref="v2"/> | <pattern ref="v3"/> | <pattern ref="v4"/> 
        <pattern ref="v5"/> | <pattern ref="elg_phone"/>
      </pattern>
    </value>
    <context>
      <pattern cover="0.03" ignore="case" p="0.4"> 
         ( tel .? | phone | telephone | cell | cellphone | cellular | line | ext .? | fax 
           tollfree | toll -? free | number is | numbers are ) :? $
      </pattern>
      <pattern cover="0.03" ignore="case" p="0.4">
        $ \(? (fax | cell | cellphone | tollfree | toll -? free) \)?
      </pattern>
      <pattern cover="-1" p="0.001"> <tok type="INT"/> <lab name="INLINE|BLOCK|BR$" neg="1"/> $ </pattern>
      <pattern cover="-1" p="0.001"> $ <lab name="INLINE|BLOCK|BR$" neg="1"/> <tok type="INT"/> </pattern>
    </context>
  </attribute>

<!-- *********************************************************************** -->
<!-- ******************************** OTHER ******************************** -->
<!-- *********************************************************************** -->

  <attribute id="doctitle" type="name" card="0" eng="0.0">
    <value>
      <length><distribution min="1" max="10" /></length>
      <!-- 
      <pattern id="about" cover="0.05" ignore="case" p="0.1">
        About <tok/>{1,9}
      </pattern> -->
      <pattern cover="0.75" p="0.75"> <tag name="title"/> <tok/>{1,9} <tag name="/title"/> </pattern>
      <pattern cover="0.4" p="0.5"> <tag name="h1"/> <tok/>{1,9} <tag name="/h1"/> </pattern>
      <pattern cover="0.3" p="0.3"> <tag name="h2"/> <tok/>{1,9} <tag name="/h2"/> </pattern>
      <pattern cover="0.1" p="0.2"> <tag name="h3"/> <tok/>{1,9} <tag name="/h3"/> </pattern>
    </value>
  </attribute>

  <attribute id="mesh" type="name" card="0" eng="0.0" prune="0.20" enabled="0">
    <pattern id="mesh_selected" src="mesh/en/CDEFN3.txt" type="pattern" />
    <value>
      <length><distribution min="1" max="10" /></length>
      <pattern cover="0.55" p="0.54"> <pattern ref="mesh_selected"/> </pattern>
      <pattern cover="0.05" p="-1.0" type="format"> has_one_parent </pattern>
      <pattern cover="0.05" p="-1.0" type="format"> fits_in_parent </pattern>
    </value>
  </attribute>
  
</class>

<!-- *********************************************************************** -->
<!-- ************************** POST-PROCESSING **************************** -->
<!-- *********************************************************************** -->

<finally>
  <script> transformContacts(); </script>
</finally>

</model>
